<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Demo met knoppen</title>
        <link rel="stylesheet" type="text/css" href="movingboxes.css" />
        <link rel="stylesheet" type="text/css" href="style.css" />
    </head>
    <body>
        
    <div id="container">
        <div id="viewport">
			<img src="img/zon.png" id="zon" />
            <div class="parallax-layer position-top layer-wolken">
				
            </div>
            <div class="parallax-layer position-top">
				<img src="img/vogels.png" />
            </div>
            <div id="layer-content">
                
                <div id="boxes">

                 <div> <!-- panel #1 -->
                  <img src="img/varkensstal2.png" class="mapit" usemap="#varkensstal" />
                 </div>

                 <div> <!-- panel #2 -->
                  <img src="img/gaarde.png" class="mapit" usemap="#Gaarde" />
                 </div>
                    
                 <div> <!-- panel #3 -->
                  <img src="img/debuytenhof.png" class="mapit" usemap="#debuytenhof" />
                 </div>
                    
                 <div> <!-- panel #4 -->
                  <img src="img/moesenpluk.png" class="" />
                 </div>                    
                </div>
                            
            </div>
        </div>
    </div>        
	<div id="log"><button id="mapit">Map it!</button></div>

	<map name="varkensstal">
	  <area shape="poly" id="modal-varkensstal" coords="186,2048,984,1778,980,1502,874,1506,882,1290,920,1294,664,954,6,1058,4,1962" href="#" title="Varkensstal" alt="Varkensstal">
	</map>
	<map name="Gaarde">
		<area shape="poly" coords="1340,2077,1393,2083,1705,1923,1933,1915,2133,1951,2149,1931,2153,1607,2301,1224,2311,1090,2203,1062,1974,1103,1925,1139,1885,1119,1917,955,1873,891,1741,871,1661,923,1561,915,1489,927,1475,1009,1541,1203,1609,1343,1617,1403,1584,1405,1521,1356,1519,1269,1445,1230,1381,1240,1295,1279,1232,1259,1172,1268,1164,1371,1246,1538,1281,1662,1298,1753,1335,1767" alt="Gaarde" href="#">
		<area shape="poly" coords="1718,1962,1952,1966,1958,2078,1716,2068" title="Gaarde" alt="Gaarde bordje" href="#" />
	</map>
	<map name="debuytenhof">
		<area shape="poly" coords="412,1282,1158,912,1886,1252,1858,1300,1866,1906,496,1936,488,1286" title="De Buytenhof" alt="De Buytenhof" href="#" />
	</map>
    
    
    <div class="hide">
        <div id="basic-modal-content">
            <img src="img/modal_voorbeeld1.png" />
        </div>
				<div id="layer-varkensstal" class="content-wrapper">
				</div>
				<div id="layer-gaarde" class="content-wrapper" >
				</div>
				<div id="layer-buytenhof" class="content-wrapper">
				</div>
				<div id="layer-moesenpluk" class="content-wrapper">
				</div>	                
    </div>
    
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js"></script>
    
    <script src="js/jquery.parallax.min.js"></script>
    <script src="js/sequence.jquery-min.js"></script>
    <!--<script src="js/jquery.imagemapster.min.js"></script>-->   
    <script src="js/jquery.easing.1.2.js"></script>   
    <script src="js/jquery.movingboxes.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function() {
		
//			$(window).scroll(function()
//			{
//				var position = $(this).scrollLeft();
//				console.log(position);
//				$("div#log1").html(position);
//			});		
		
            // Declare parallax on layers

            var windowHeight    = $(window).height();
            var windowWidth     = $(window).width();
            //var $firstLayer     = $("#layer-1");
            //console.log(-(windowWidth / 2) );
            
            //$("#viewport img").height(windowHeight);
            $("#layer-content").width(windowWidth);
            $("#viewport").height(windowHeight);
            // The parralax
//            jQuery('.parallax-layer').parallax(
//				{
//					"xorigin": "center",
//					"yparallax": false,
//					"mouseport": jQuery("#viewport")
//				},
//				{
//					"xorigin": "left"
//				}
//			); 
//            setTimeout(function(){
//                //console.log($firstLayer);
//                $firstLayer.css("margin-left", "-683px").css("left", "30%");     
//            }, 500);
            
//			$("#mapit").click(function() {
//				$(this).attr("disabled", "disabled");
//				$(".mapit").mapster({
//					"fillColor": "ff0000",
//					"fillOpacity": 0.5
//				});
//			});

$(window).resize(function(){
    clearTimeout(timer);
    var slider = $('#boxes').data('movingBoxes');
    slider.options.width = $(window).width() * 0.5; // make 50% browser width
    slider.options.panelWidth = 0.7; // make 70% of wrapper width
    // prevent updating continuously, aka throttle resize
    timer = setTimeout(function(){
        slider.update(false);
    }, 100);
});        
        
//            $("#modal-varkensstal").click(function (e) {
//                e.preventDefault();
//                $('#basic-modal-content').modal();
//            });
            
            
$('#boxes').movingBoxes({

    // overall width of movingBoxes
    // width: 300, // Deprecated, but still works in v2.2.2
    // current panel width adjusted to 50% of overall width
    // panelWidth: 0.5, // Deprecated, but still works in v2.2.2    
    
    // **** Appearance ****
    // start with this panel
    startPanel: 1,
    // non-current panel size: 80% of panel size
    reducedSize: 1,
    // if true, slider height set to max panel height; if false, height will auto adjust.
    fixedHeight: true,
    
    // **** Behaviour ****
    // animation time in milliseconds
    speed: 500,
    // if true, hash tags are enabled
    hashTags: true,
    // if true, the panel will "wrap" (it really rewinds/fast forwards) at the ends
    wrap: false,
    // if true, navigation links will be added
    buildNav: true,
    // function which returns the navigation text for each panel
    navFormatter: function(index, panel){ return "&#9679;" },
    // anything other than "linear" or "swing" requires the easing plugin
    easing: 'swing',
    
    // **** Selectors & classes ****
    // current panel class
    currentPanel: 'current',
    // added to the navigation, but the title attribute is blank unless the link text-indent is negative
    tooltipClass: 'tooltip',
    preinit: function(e, mb, tar) {
        var throttled = false,
        
        // increase the throttleDelay to slow down the mouse scrolling
        throttledDelay = 100; // milliseconds
        
        mb.$window.mousewheel(function(event, delta) {
            if (!throttled) {
                mb.change(mb.curPanel + (delta < 0 ? 1 : -1));
                throttled = true;
                setTimeout(function(){
                    throttled = false;
                }, throttledDelay);
            }
            return false; // prevent default
        });
    },
    // **** Callbacks ****
    // e = event, slider = MovingBoxes Object, tar = current panel #
    // callback when MovingBoxes has completed initialization
    initialized: function(e, slider, tar){},
    // callback upon change panel initialization
    initChange: function(e, slider, tar){
        // alert( 'Changing panels to #' + tar );
    },
    // callback before any animation occurs
    beforeAnimation: function(e, slider, tar){},
    // callback after animation completes
    completed: function(e, slider, tar){
        // get name from title
        // var name = slider.$panels.eq(tar-1).find('h2').text().split(' ')[0]; 
        // alert( "Now on " + name + "'s panel" );
    }

});
            
            
        });
    </script>
    </body>
</html>